---
// Hero section matching the reference image
import '../assets/hero.css';
import arcImage from '../images/arc.png';
import logoImage from '../images/logo.png';
---

<div class="hero-container">
	<!-- Top Spotlight - Cone beam from top center -->
	<div class="top-spotlight" id="topSpotlight"></div>
	
	<!-- Bottom Purple Glow Arc -->
	<div class="bottom-glow-arc" id="bottomGlow"></div>
	
	<!-- Planet Arc Image -->
	<div class="planet-arc-wrapper">
		<img 
			src={arcImage.src} 
			alt="Planet Arc" 
			class="planet-arc"
			id="planetArc"
		/>
	</div>
	
	<!-- Logo and Text Container -->
	<div class="logo-text-container" id="logoContainer">
		<div class="logo-blend-wrapper">
			<img 
				src={logoImage.src} 
				alt="Triverse Logo" 
				class="triverse-logo"
				id="triverseLogo"
			/>
		</div>
	</div>
</div>

<script is:inline>
	(function() {
		function initAnimations() {
			if (typeof window === 'undefined' || !window.gsap) {
				setTimeout(initAnimations, 100);
				return;
			}
			
			const logoContainer = document.getElementById('logoContainer');
			const logoBlendWrapper = logoContainer?.querySelector('.logo-blend-wrapper');
			const triverseLogo = document.getElementById('triverseLogo');
			const topSpotlight = document.getElementById('topSpotlight');
			const bottomGlow = document.getElementById('bottomGlow');
			const planetArc = document.getElementById('planetArc');
			
			if (!logoContainer || !triverseLogo || !topSpotlight || !bottomGlow || !planetArc) {
				setTimeout(initAnimations, 100);
				return;
			}
			
			const gsap = window.gsap;
			
			// Set blend mode for logo
			if (logoBlendWrapper) {
				logoBlendWrapper.style.mixBlendMode = 'screen';
			}
			
			// Set initial states
			gsap.set([logoContainer, topSpotlight, bottomGlow, planetArc], {
				opacity: 0
			});
			
			gsap.set(topSpotlight, {
				scaleY: 0,
				transformOrigin: 'top center'
			});
			
			gsap.set(bottomGlow, {
				scaleX: 0,
				transformOrigin: 'center center'
			});
			
			gsap.set(planetArc, {
				scaleY: 0,
				transformOrigin: 'bottom center'
			});
			
			// Create timeline
			const tl = gsap.timeline({ delay: 0.3 });
			
			// Animate bottom glow arc appearing
			tl.to(bottomGlow, {
				scaleX: 1,
				opacity: 1,
				duration: 1.2,
				ease: 'power2.out'
			})
			// Animate planet arc rising
			.to(planetArc, {
				scaleY: 1,
				opacity: 1,
				duration: 1,
				ease: 'power2.out'
			}, '-=0.8')
			// Animate top spotlight appearing
			.to(topSpotlight, {
				scaleY: 1,
				opacity: 1,
				duration: 1.5,
				ease: 'power3.out'
			}, '-=0.5')
		// Fade in logo
		.to(logoContainer, {
			opacity: 1,
			duration: 1.5,
			ease: 'power2.out'
		}, '-=1.2');
		
		// Start floating animation after fade in
		gsap.to(triverseLogo, {
			y: -20,
			duration: 3.5,
			repeat: -1,
			yoyo: true,
			ease: 'sine.inOut',
			delay: 1.8
		});
			
			// Subtle spotlight pulse
			gsap.to(topSpotlight, {
				opacity: 0.85,
				duration: 3,
				repeat: -1,
				yoyo: true,
				ease: 'sine.inOut',
				delay: 2
			});
		}
		
		if (document.readyState === 'loading') {
			document.addEventListener('DOMContentLoaded', initAnimations);
		} else {
			initAnimations();
		}
	})();
</script>
